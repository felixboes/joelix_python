\subsection{Eine naive Matrixklasse}
\label{section:klassen:eine_naive_matrixklasse}
Wir verbessern hier unsere sehr naive Matrixklasse aus Abschnitt \ref{section:klassen:eine_sehr_naive_matrixklasse}
indem wir die sehr naiven Memberfunktionen durch spezielle Memberfunktionen ersetzen.
Dadurch ist der Zugriff auf die Koeffizienten einer Matrix und die Ausgabe einer Matrix viel komfortabler.
\begin{lstlisting}
class Matrix:
  """Eine naive Matrixklasse"""
  
  def __init__(self, zeilen=0, spalten=0):
    self.zeilen = zeilen
    self.spalten = spalten
    self.elemente = self.zeilen*self.spalten*[0.0]
  
  def __getitem__(self, ij):
    """Implementiert den Zugriffsoperator []. Mit m[i,j] wird der
       Koeffizienten der Matrix m in der i-ten Zeile und der j-ten Spalte
       zurueckgegeben."""
    i,j = ij
    return self.elemente[i*self.spalten + j]
  
  def __setitem__(self, ij ,z):
    """Implementiert den Zugriffsoperator []. Mit m[i,j] = z wird der
       Koeffizienten der Matrix m in der i-ten Zeile und der j-ten Spalte
       auf den Wert z gesetzt."""
    i,j = ij
    self.elemente[i*self.spalten + j] = z
  
  def __str__(self):
   """Implementiert die Konvertierung zu str. Mit str(m) wird ein String
      zurueckgegeben, der die Matrix m beschreibt."""
    s = "Zeilen: {} Spalten: {}\n".format(self.zeilen, self.spalten)
    for i in range(self.zeilen):
      for j in range(self.spalten):
        s = s + "{}; ".format(self[i,j])
      s = s + "\n"
    return s
\end{lstlisting}
Mit dieser verbesserten Implementierung der Klasse \lpy{Matrix} k√∂nnen wir viel komfortabler mit Matrizen arbeiten.
\begin{lstlisting}
m = Matrix(zeilen=3,spalten=4) # Erstellt eine 3x4 Matrix
m[1,1] = 3.0  # Setzt den Eintrag in Zeile 1 und Spalte 1 auf 3.0.
print(m)      # Druckt die Darstellung der Matrix aus.
\end{lstlisting}
